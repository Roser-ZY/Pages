---
image: "images/content/C++.png"
draft: false
title: 条款06：若不想使用编译器自动生成的函数，就该明确拒绝
author: Roser Han
date: 2025-04-15
tags:
  - Cpp
  - EffectiveCpp
  - Review
---
在 C++11 之后，可以使用 `=delete` 来明确表示不支持某项可自动生成的函数。

在此之前，常见做法是将[条款05](../条款05：了解-C++-默默编写并调用哪些函数)中自动生成的函数声明为 `private` 并且**不提供定义**，能够在外部调用这些函数时**编译期报错**，或者在 `friend` 和成员函数中调用时**报链接错误**（因为没有定义）。

> 这也是 C++ iostream 标准库中阻止 copying 的做法。

还可以定义一个 `Uncopyable` 抽象类，在其中通过上述 `private` 的方式阻止默认生成，然后让不需要这些函数的类继承这个类。这种方式可以让报错全部集中到编译期（如果不对这个抽象类实现 `friend` 和其他成员函数的话）。

缺点就是需要处理多继承时的性能额外损耗等问题（虽然性能损耗不多）。