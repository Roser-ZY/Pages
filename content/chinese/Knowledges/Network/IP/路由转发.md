---
title: "路由转发"
author: "Roser"
date: 2025-04-03
image: "images/content/Network.png"
draft: false
tags:
  - Network
  - IP
  - Review
sr-due: 2025-04-27
sr-interval: 24
sr-ease: 250
---
IP 地址中的网络号用于控制路由转发。

路由控制表（简称为路由表）中记录网络地址与下一跳的路由器地址，**主机和路由器都会有各自的路由表**。

发送 IP 包时，首先确定 IP 包中的目标地址，再从路由控制表查找与改地址具有相同网络地址的记录，并将 IP 包发送到该记录指向的路由器。**如果路由控制表存在多条相同网络地址的记录，就选择相同位数最多的地址进行转发，也就是最长匹配**。

> 环回地址不会流向网络。
> 环回地址是一个特殊的 IP 地址，为 `127.0.0.1`，改地址与 `loacalhost` 主机名具有相同意义。

可见，路由转发是根据网络号进行下一跳选择的，且路由控制表是查找的关键数据结构。

路由表可以手动配置（静态路由），或通过动态路由协议动态记录并更新。路由协议有 IGP，EGP，ICMP，LDP，PIM 等。