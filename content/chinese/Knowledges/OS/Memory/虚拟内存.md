---
title: "虚拟内存"
author: "Roser"
date: 2025-05-09
image: "images/content/OS.png"
draft: false
tags:
  - OS
  - Review
sr-due: 2025-04-30
sr-interval: 23
sr-ease: 250
---
虚拟内存是相对物理内存而言，虚拟内存能够实现多进程运行，并且解决物理内存有限的问题。

物理内存是实际的内存，目前一般为 `4G~64G`，现在的电脑配置一般都会在 `8G` 以上。虽然看起来很多，但很多程序所需内存远远超过 `8G`，如果让程序直接运行在物理内存，内存不足以完全运行程序，更不要说多进程了。

另外，如果程序直接运行在物理内存，即使内存够用，也可能出现多个进程读写同一个地址的问题，如果出现这种情况，两个进程会立即崩溃（例如启动两个相同的进程，执行的代码是相同的，访问的地址也是相同的）。

为了解决上述问题，虚拟内存应运而生。进程所使用的内存地址会被操作系统（逻辑）隔离，每个进程分配**独立**的一套**虚拟地址**。这样不同的程序之间不会出现冲突。此外，操作系统会提供虚拟内存到物理内存的映射机制，从而让进程运行在真正的内存上。

- 程序所访问和使用的内存地址均为**虚拟内存地址**。
- 实际在硬件里的空间地址为**物理内存地址**。

进行内存地址转换的是位于 CPU 中的**内存管理单元（MMU）**。

操作系统管理虚拟地址和物理地址之间关系的方法有两种：[内存分段](../内存分段)和[内存分页](../内存分页)。

之所以能够实现虚拟内存是因为局部性原理，每个进程实际可能只有一小部分需要进入物理内存执行。